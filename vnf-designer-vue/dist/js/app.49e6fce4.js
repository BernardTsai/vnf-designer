(function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],m=0,u=[];m<s.length;m++)i=s[m],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&u.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(u.length)u.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},i={app:0},o={app:0},a=[];function s(e){return l.p+"js/"+({docs:"docs"}[e]||e)+"."+{docs:"4e3d9570"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={docs:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var r="css/"+({docs:"docs"}[e]||e)+"."+{docs:"754f89e9"}[e]+".css",o=l.p+r,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var c=a[s],m=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(m===r||m===o))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){c=u[s],m=c.getAttribute("data-href");if(m===r||m===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete i[e],d.parentNode.removeChild(d),n(a)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){i[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=a);var c,m=document.createElement("script");m.charset="utf-8",m.timeout=120,l.nc&&m.setAttribute("nonce",l.nc),m.src=s(e);var u=new Error;c=function(t){m.onerror=m.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",u.name="ChunkLoadError",u.type=r,u.request=i,n[1](u)}o[e]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:m})}),12e4);m.onerror=m.onload=c,document.head.appendChild(m)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/vnf-designer/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],m=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=m;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0bc2":function(e,t,n){},1:function(e,t){},2:function(e,t){},"2f8a":function(e,t,n){},"3e44":function(e,t,n){},"557b":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],a=n("2877"),s={},l=Object(a["a"])(s,i,o,!1,null,null,null),c=l.exports,m=n("8c4f"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("appheader",{attrs:{model:e.model,view:e.view,misc:e.misc}}),n("appnavigation",{attrs:{model:e.model,view:e.view}}),n("appdetail",{attrs:{model:e.model,current:e.current,view:e.view,templates:e.templates}}),""!==e.view.modal?n("modal",{attrs:{view:e.view}}):e._e()],1)},d=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.view.mode,attrs:{id:"appheader"}},[e._m(0),n("div",{staticClass:"label",attrs:{id:"apptitle"}},[e._v(e._s(e.title))]),n("div",{staticClass:"buttons",attrs:{id:"appbuttons"}},[n("div",{attrs:{title:"Tenant overview"},on:{click:function(t){return e.context("Tenant")}}},[n("i",{staticClass:"fas fa-map"}),e._v(" Overview ")]),n("div",{attrs:{title:"Reset model"},on:{click:e.reset}},[n("i",{staticClass:"fas fa-certificate"}),e._v(" Reset ")]),n("div",{attrs:{title:"Validate model"},on:{click:e.validate}},[n("i",{staticClass:"fas fa-check-circle"}),e._v(" Validate ")]),n("div",{attrs:{title:"Import model"},on:{click:function(t){return e.context("Import")}}},[n("i",{staticClass:"fas fa-arrow-alt-circle-down"}),e._v(" Import ")]),n("div",{attrs:{title:"Export model"},on:{click:function(t){return e.context("Export")}}},[n("i",{staticClass:"fas fa-arrow-alt-circle-up"}),e._v(" Export ")]),n("div",{on:{click:function(t){return e.context("Docs")}}},[n("i",{staticClass:"fas fa-book"}),e._v(" Docs ")])]),n("div",{staticClass:"tabs",attrs:{id:"apptabs"}},["Tenant"===e.view.navigation?[n("div",{staticClass:"active"},[e._v("General")]),n("div",{on:{click:function(t){return e.context("Flavor")}}},[e._v("Flavors")]),n("div",{on:{click:function(t){return e.context("Image")}}},[e._v("Images")]),n("div",{on:{click:function(t){return e.context("Network")}}},[e._v("Networks")]),n("div",{on:{click:function(t){return e.context("Component")}}},[e._v("VNFd's")])]:e._e(),"Image"===e.view.navigation?[n("div",{on:{click:function(t){return e.context("Tenant")}}},[e._v("General")]),n("div",{on:{click:function(t){return e.context("Flavor")}}},[e._v("Flavors")]),n("div",{staticClass:"active"},[e._v("Images")]),n("div",{on:{click:function(t){return e.context("Network")}}},[e._v("Networks")]),n("div",{on:{click:function(t){return e.context("Component")}}},[e._v("VNFd's")])]:e._e(),"Flavor"===e.view.navigation?[n("div",{on:{click:function(t){return e.context("Tenant")}}},[e._v("General")]),n("div",{staticClass:"active"},[e._v("Flavors")]),n("div",{on:{click:function(t){return e.context("Image")}}},[e._v("Images")]),n("div",{on:{click:function(t){return e.context("Network")}}},[e._v("Networks")]),n("div",{on:{click:function(t){return e.context("Component")}}},[e._v("VNFd's")])]:e._e(),"Network"===e.view.navigation?[n("div",{on:{click:function(t){return e.context("Tenant")}}},[e._v("General")]),n("div",{on:{click:function(t){return e.context("Flavor")}}},[e._v("Flavors")]),n("div",{on:{click:function(t){return e.context("Image")}}},[e._v("Images")]),n("div",{staticClass:"active"},[e._v("Networks")]),n("div",{on:{click:function(t){return e.context("Component")}}},[e._v("VNFd's")])]:e._e(),"Component"===e.view.navigation?[n("div",{on:{click:function(t){return e.context("Tenant")}}},[e._v("General")]),n("div",{on:{click:function(t){return e.context("Flavor")}}},[e._v("Flavors")]),n("div",{on:{click:function(t){return e.context("Image")}}},[e._v("Images")]),n("div",{on:{click:function(t){return e.context("Network")}}},[e._v("Networks")]),n("div",{staticClass:"active"},[e._v("VNFd's")])]:e._e()],2)])},v=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logo"},[n("i",{staticClass:"fas fa-cloud"}),e._v(" VNF Designer")])}],f=n("783b"),h=n.n(f),w={navigation:"Tenant",detail:"Tenant",entity:null,field:null,export:"Canonical",modal:"",now:"",mode:"current",tick(){var e=new Date;w.now=e.getFullYear()+"-"+("0"+e.getMonth()).substr(-2)+"-"+("0"+e.getDate()).substr(-2)+" "+("0"+e.getHours()).substr(-2)+":"+("0"+e.getMinutes()).substr(-2)+":"+("0"+e.getSeconds()).substr(-2)},setContext(e){if("Docs"!==e){if("Import"===e)return w.navigation="Tenant",void(w.detail="Import");if("Export"===e)return w.navigation="Tenant",void(w.detail="Export");if("Tenant"===e)return w.navigation="Tenant",void(w.detail="Tenant");w.navigation=e,w.detail!==w.navigation&&(w.detail="Tenant")}},setFocus(e){var t={flavors:"Flavor",images:"Image",networks:"Network",components:"Component"},n=e.split(".");n.length;if(console.log(e),2===n.length)return w.navigation="Tenant",w.detail="Tenant",void(w.field=n[1]);if("tenant"===n[1])return w.navigation="Tenant",w.detail="Tenant",void(3===n.length?w.field=n[1]+"_"+n[2]:w.field=n[1]+"_"+n[2]+"_"+n[3]);if(3===n.length){var r=n[1].indexOf("["),i=n[1].substr(0,r),o=Number(n[1].substr(r+1).replace("]","")),a=n[2];return w.navigation=t[i],w.detail=t[i],w.entity=model[i][o],void(w.field=a)}if(4===n.length){r=n[1].indexOf("["),i=n[1].substr(0,r),o=Number(n[1].substr(r+1).replace("]",""));var s=n[2].indexOf("["),l=n[2].substr(0,s),c=Number(n[2].substr(s+1).replace("]",""));a=l+"_"+String(c)+"_"+n[3];return w.navigation=t[i],w.detail=t[i],w.entity=model[i][o],void(w.field=a)}console.log(n)}},g=w,_={title:"VNF Desciptor",description:"A simple VNF descriptor",type:"object",required:["schema","vnf","version","tenant","flavors","images","networks","components"],properties:{schema:{type:"string",enum:["1.0.1"],description:"The version of the schema"},vnf:{type:"string",minLength:1,description:"The unique identifier for a virtual network function"},version:{type:"string",pattern:"^\\d+\\.\\d+.\\d+$",description:"Semantic version of the VNF descriptor"},tenant:{description:"The tenant information",type:"object",required:["name","auth"],properties:{name:{type:"string",description:"name of the tenant"},auth:{description:"The authentication information",type:"object",required:["username","password","url"],properties:{username:{type:"string",description:"username for accessing the API"},password:{type:"string",description:"password for accessing the API"},url:{type:"string",description:"url for the API"}}}}},flavors:{description:"The sizing of virtual servers",type:"array",items:{title:"Flavor",type:"object",required:["uuid","name","vcpu","ram","disk","public","special"],properties:{uuid:{type:"string",description:"Unique identifier of the flavor"},name:{type:"string",description:"Name of the flavor"},vcpu:{type:"number",description:"Number of virtual core processing units as string"},ram:{type:"number",description:"Size of memory in megabytes as string"},disk:{type:"number",description:"Size of local disk in gigabytes as string"},public:{type:"string",enum:["true","false"],description:"Image is a predefined public image"},special:{description:"Additional special attributes",type:"array",items:{type:"object",description:"Key-value pair",required:["key","value"],properties:{key:{type:"string",description:"Attribute name"},value:{type:"string",description:"Attribute value"}}}}}}},images:{description:"The operating systems for virtual servers",type:"array",items:{title:"Image",type:"object",required:["uuid","name","disk","container"],properties:{uuid:{type:"string",description:"Unique identifier of the image"},name:{type:"string",description:"Name of the image"},version:{type:"string",description:"Version of the image"},format:{type:"string",enum:["aki","ami","ari","iso","qcow2","raw","vdi","vhd","vhdx","vmdk"],description:"Disk format of the image"},container:{type:"string",enum:["aki","ami","ari","bare","docker","ova","ovf"],description:"Container format of the image"},disk:{type:"string",description:"Minimum disk requirements"},size:{type:"string",description:"Size of the image"},checksum:{type:"string",description:"Checksum of the image"},url:{type:"string",description:"URL for the image"},special:{type:"string",description:"Additional special attributes"}}}},networks:{description:"The virtual networks",type:"array",items:{title:"Network",type:"object",required:["uuid","ipv4","ipv4gw","ipv4start","ipv4end","ipv6","ipv6gw","ipv6start","ipv6end","route","import","export","special"],properties:{uuid:{type:"string",description:"Unique identifier of the virtual network"},name:{type:"string",description:"Name of the virtual network"},ipv4:{type:"string",description:"IPv4 CIDR of the virtual network"},ipv4gw:{type:"string",description:"IPv4 gateway of the virtual network"},ipv4start:{type:"string",description:"IPv4 start address of the virtual network"},ipv4end:{type:"string",description:"IPv4 end address of the virtual network"},ipv6:{type:"string",description:"IPv6 attributes of the virtual network"},ipv6gw:{type:"string",description:"IPv6 gateway of the virtual network"},ipv6start:{type:"string",description:"IPv6 start address of the virtual network"},ipv6end:{type:"string",description:"IPv6 end address of the virtual network"},route:{type:"string",description:"Comma seperated list of route targets"},export:{type:"string",description:"Comma seperated list of export targets"},import:{type:"string",description:"Comma seperated list of import targets"},special:{type:"string",description:"Additional special attributes"}}}},components:{description:"The virtual servers",type:"array",items:{title:"Component",type:"object",required:["uuid","name","placement","flavor","image","min","size","max","interfaces","volumes","services","dependencies","userdata"],properties:{uuid:{type:"string",description:"Unique identifier of the virtual server"},name:{type:"string",description:"Name of the virtual server"},user:{type:"string",description:"Name of the user account"},placement:{type:"string",enum:["OTHER","EXT","INT","MGMT","ROUTER"],description:"Placement of the virtual server or type of component"},flavor:{type:"string",description:"Name of the virtual server sizing"},image:{type:"string",description:"Name of the operating system"},min:{type:"number",description:"Minimum size of the cluster"},size:{type:"number",description:"Default size of the cluster"},max:{type:"number",description:"Maximum size of the cluster"},userdata:{type:"string",description:"Initialisation script"},interfaces:{description:"The interfaces to virtual networks",type:"array",items:{title:"Component Interface",type:"object",required:["network","attributes"],properties:{network:{type:"string",description:"Name of the virtual network"},attributes:{type:"string",description:"Additional special attributes"}}}},volumes:{description:"The attached virtual block storage",type:"array",items:{title:"Component Volume",type:"object",required:["name","size","type","attributes"],properties:{name:{type:"string",description:"Name of the virtual network"},size:{type:"number",description:"Size of the block storage in gigabyte"},type:{type:"string",enum:["EXT","INT"],description:"Name of block storage pool"},attributes:{type:"string",description:"Additional special attributes"}}}},services:{description:"The exposed services",type:"array",items:{title:"Component Service",type:"object",required:["name","network","protocol","range"],properties:{name:{type:"string",description:"Name of the service"},network:{type:"string",description:"The virtual network via which the service is exposed"},protocol:{type:"string",enum:["tcp","udp","icmp","sctp","any","none"],description:"The service protocol"},range:{type:"string",minimum:1,description:"Port range"}}}},dependencies:{description:"The dependencies to services provided by other componennts",type:"array",items:{title:"Component Network",type:"object",required:["component","service","network"],properties:{component:{type:"string",description:"Name of the other component"},service:{type:"string",description:"The name of the service provided by the other component"},network:{type:"string",description:"The virtual network via which the service is consumed"}}}}}}}},validate_schema(e){var t=new h.a,n=t.compile(_),r=n(e);return r?"":(g.setFocus(n.errors[0].dataPath),"Schema error:\nfield "+n.errors[0].message+"\nLocation: "+n.errors[0].dataPath)},validate_xref(e){var t=e.flavors.map(e=>e.name),n=e.images.map(e=>e.name),r=e.networks.map(e=>e.name),i=e.components.map(e=>e.name),o=[];for(var a of e.components)for(var s of a.services)o.push(a.name+":"+s.name);for(var l=0;l<e.components.length;l++){if(a=e.components[l],!t.includes(a.flavor))return g.setFocus(".components["+l+"].flavor"),"Reference error:\ninvalid flavor .components["+l+"].flavor";if(!n.includes(a.image))return g.setFocus(".components["+l+"].image"),"Reference error:\ninvalid image .components["+l+"].image";for(var c=[],m=0;m<a.interfaces.length;m++){var u=a.interfaces[m];if(c.push(u.network),!r.includes(u.network))return g.setFocus(".components["+l+"].interfaces["+m+"].network"),"Reference error\ninvalid network .components["+l+"].interfaces["+m+"].network"}for(m=0;m<a.services.length;m++)if(s=a.services[m],!c.includes(s.network))return g.setFocus(".components["+l+"].services["+m+"].network"),"Reference error\ninvalid network .components["+l+"].services["+m+"].network";for(m=0;m<a.dependencies.length;m++){var d=a.dependencies[m];if(!i.includes(d.component))return g.setFocus(".components["+l+"].dependencies["+m+"].component"),"Reference error\ninvalid component .components["+l+"].dependencies["+m+"].component";if(!c.includes(d.network))return g.setFocus(".components["+l+"].dependencies["+m+"].network"),"Reference error\ninvalid network .components["+l+"].dependencies["+m+"].component";var p=d.component+":"+d.service;if(!o.includes(p))return g.setFocus(".components["+l+"].dependencies["+m+"].service"),"Reference error\ninvalid service .components["+l+"].dependencies["+m+"].service"}}return""}},k=_,b={name:"appheader",props:["model","view","misc"],computed:{title:function(){return this.model.current.vnf+" ("+this.model.current.version+")"}},methods:{context:function(e){this.view.setContext(e);var t=document.getElementById("appdetail");t.style.left=null;var n=document.getElementById("apptabs");switch(n.style.display=null,this.view.detail="Tenant",e){case"Import":this.view.detail="Import";break;case"Export":this.view.detail="Export";break;case"Docs":var r=window.open(window.location.href+"docs","_blank");r.focus();break;default:}},validate:function(){var e=JSON.parse(JSON.stringify(this.model.current)),t=k.validate_schema(e);""==t?(t=k.validate_xref(e),this.view.modal=""==t?"No Validation Errors":t):this.view.modal=t},reset:function(){var e=JSON.parse(JSON.stringify(this.misc.emptyModel()));this.view.mode="current",this.model.setModel(e),this.view.setContext("Tenant"),this.$forceUpdate()}}},y=b,x=Object(a["a"])(y,p,v,!1,null,null,null),C=x.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"appnavigation"}},["Tenant"===e.view.navigation?n("tenantform",{attrs:{model:e.model,view:e.view}}):e._e(),"Flavor"===e.view.navigation?n("flavors",{attrs:{model:e.model,view:e.view}}):e._e(),"Image"===e.view.navigation?n("images",{attrs:{model:e.model,view:e.view}}):e._e(),"Network"===e.view.navigation?n("networks",{attrs:{model:e.model,view:e.view}}):e._e(),"Component"===e.view.navigation?n("components",{attrs:{model:e.model,view:e.view}}):e._e()],1)},O=[],P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list"},e._l(e.model.current.flavors,(function(t){return n("flavoritem",{key:t.uuid,attrs:{model:e.model,view:e.view,flavor:t}})})),1)},$=[],I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item"},[n("div",{staticClass:"name",on:{click:function(t){return e.pick(e.flavor)}}},[n("i",{staticClass:"fas fa-microchip"}),e._v(" "+e._s(e.flavor.name)+" ")]),n("div",{staticClass:"button",on:{click:function(t){return e.del(e.flavor)}}},[n("i",{staticClass:"fas fa-minus"})])])},N=[],R={name:"flavoritem",props:["model","view","flavor"],methods:{pick:function(e){this.view.detail="Flavor",this.view.entity=e},del:function(e){this.model.deleteFlavor(e),"Flavor"===this.view.detail&&(this.view.detail="",this.view.entity=null)}}},E=R,S=Object(a["a"])(E,I,N,!1,null,null,null),F=S.exports,H={props:["model","view"],components:{flavoritem:F}},D=H,A=Object(a["a"])(D,P,$,!1,null,null,null),z=A.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tenantform"}},[n("div",{staticClass:"header"},[e._v("Tenant: "+e._s(e.model.current.name))]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"name"}},[e._v("Network Service:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.current.vnf,expression:"model.current.vnf"}],attrs:{id:"vnf",name:"vnf",required:""},domProps:{value:e.model.current.vnf},on:{input:function(t){t.target.composing||e.$set(e.model.current,"vnf",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"version"}},[e._v("Version:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.current.version,expression:"model.current.version"}],attrs:{id:"version",name:"version",required:""},domProps:{value:e.model.current.version},on:{input:function(t){t.target.composing||e.$set(e.model.current,"version",t.target.value)}}})]),n("hr"),n("div",{staticClass:"line"},[n("label",{attrs:{for:"tenant"}},[e._v("Tenant:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.current.tenant.name,expression:"model.current.tenant.name"}],attrs:{id:"tenant_name",name:"tenant_name",required:""},domProps:{value:e.model.current.tenant.name},on:{input:function(t){t.target.composing||e.$set(e.model.current.tenant,"name",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"tenant_auth_username"}},[e._v("Username:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.current.tenant.auth.username,expression:"model.current.tenant.auth.username"}],attrs:{id:"tenant_auth_username",name:"tenant_auth_username",required:""},domProps:{value:e.model.current.tenant.auth.username},on:{input:function(t){t.target.composing||e.$set(e.model.current.tenant.auth,"username",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"tenant_auth_password"}},[e._v("Password:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.current.tenant.auth.password,expression:"model.current.tenant.auth.password"}],attrs:{id:"tenant_auth_password",name:"tenant_auth_password",required:""},domProps:{value:e.model.current.tenant.auth.password},on:{input:function(t){t.target.composing||e.$set(e.model.current.tenant.auth,"password",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"tenant_auth_url"}},[e._v("URL:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.current.tenant.auth.url,expression:"model.current.tenant.auth.url"}],attrs:{id:"tenant_auth_url",name:"tenant_auth_url",required:""},domProps:{value:e.model.current.tenant.auth.url},on:{input:function(t){t.target.composing||e.$set(e.model.current.tenant.auth,"url",t.target.value)}}})])])},U=[],j={name:"tenantform",props:["model","view"]},M=j,V=Object(a["a"])(M,q,U,!1,null,null,null),G=V.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list"},e._l(e.model.current.images,(function(t){return n("imageitem",{key:t.uuid,attrs:{model:e.model,view:e.view,image:t}})})),1)},B=[],X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item"},[n("div",{staticClass:"name",on:{click:function(t){return e.pick(e.image)}}},[n("i",{staticClass:"fas fa-hockey-puck"}),e._v(" "+e._s(e.image.name)+" ")]),n("div",{staticClass:"button",on:{click:function(t){return e.del(e.image)}}},[n("i",{staticClass:"fas fa-minus"})])])},Y=[],W={name:"imageitem",props:["model","view","image"],methods:{pick:function(e){this.view.detail="Image",this.view.entity=e},del:function(e){this.model.deleteImage(e),"Image"===this.view.detail&&(this.view.detail="",this.view.entity=null)}}},J=W,K=Object(a["a"])(J,X,Y,!1,null,null,null),Q=K.exports,Z={name:"images",props:["model","view"],components:{imageitem:Q}},ee=Z,te=Object(a["a"])(ee,L,B,!1,null,null,null),ne=te.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list"},e._l(e.model.current.networks,(function(t){return n("networkitem",{key:t.uuid,attrs:{model:e.model,view:e.view,network:t}})})),1)},ie=[],oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item"},[n("div",{staticClass:"name",on:{click:function(t){return e.pick(e.network)}}},[n("i",{staticClass:"fas fa-cloud"}),e._v(" "+e._s(e.network.name)+" ")]),n("div",{staticClass:"button",on:{click:function(t){return e.del(e.network)}}},[n("i",{staticClass:"fas fa-minus"})])])},ae=[],se={name:"networkitem",props:["model","view","network"],methods:{pick:function(e){this.view.detail="Network",this.view.entity=e},del:function(e){this.model.deleteNetwork(e),"Network"===this.view.detail&&(this.view.detail="",this.view.entity=null)}}},le=se,ce=Object(a["a"])(le,oe,ae,!1,null,null,null),me=ce.exports,ue={name:"networks",props:["model","view"],components:{networkitem:me}},de=ue,pe=Object(a["a"])(de,re,ie,!1,null,null,null),ve=pe.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list"},e._l(e.model.current.components,(function(t){return n("componentitem",{key:t.uuid,attrs:{model:e.model,view:e.view,component:t}})})),1)},he=[],we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item"},[n("div",{staticClass:"name",on:{click:function(t){return e.pick(e.component)}}},[n("i",{staticClass:"fas fa-server"}),e._v(" "+e._s(e.component.name)+" ")]),n("div",{staticClass:"button",on:{click:function(t){return e.del(e.component)}}},[n("i",{staticClass:"fas fa-minus"})])])},ge=[],_e={name:"componentitem",props:["model","view","component"],methods:{pick:function(e){this.view.detail="Component",this.view.entity=e},del:function(e){this.model.deleteComponent(e),"Component"===this.view.detail&&(this.view.detail="",this.view.entity=null)}}},ke=_e,be=Object(a["a"])(ke,we,ge,!1,null,null,null),ye=be.exports,xe={name:"components",props:["model","view"],components:{componentitem:ye}},Ce=xe,Te=Object(a["a"])(Ce,fe,he,!1,null,null,null),Oe=Te.exports,Pe={name:"appnavigation",props:["model","view"],components:{flavors:z,tenantform:G,images:ne,networks:ve,components:Oe}},$e=Pe,Ie=Object(a["a"])($e,T,O,!1,null,null,null),Ne=Ie.exports,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"appdetail"}},["Flavor"===e.view.detail?n("flavorform",{attrs:{model:e.model,view:e.view,flavor:e.view.entity}}):e._e(),"Image"===e.view.detail?n("imageform",{attrs:{model:e.model,view:e.view,image:e.view.entity}}):e._e(),"Network"===e.view.detail?n("networkform",{attrs:{model:e.model,view:e.view,network:e.view.entity}}):e._e(),"Component"===e.view.detail?n("componentform",{attrs:{model:e.model,component:e.view.entity}}):e._e(),"Export"===e.view.detail?n("exportform",{attrs:{model:e.model,view:e.view,templates:e.templates}}):e._e(),"Import"===e.view.detail?n("importform",{attrs:{model:e.model,view:e.view}}):e._e(),"Tenant"===e.view.detail?n("tenant",{attrs:{model:e.model,view:e.view}}):e._e()],1)},Ee=[],Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tenant_layout"},on:{click:e.handleClick}},[n("div",{staticClass:"vnf"},[e._v("Network Service: "+e._s(e.model.current.vnf))]),n("div",{staticClass:"tenant"},[e._v("Tenant: "+e._s(e.model.current.tenant.name))]),n("div",{staticClass:"version"},[e._v("Version: "+e._s(e.model.current.version))]),n("div",{staticClass:"date"},[e._v("Timestamp: "+e._s(e.view.now))]),e._l(e.model.current.networks,(function(t,r){return n("tenant_network",{key:"network-"+r,attrs:{model:e.model,view:e.view,network:t,index:r}})})),n("tenant_network2",{key:"network-dummy",attrs:{model:e.model,view:e.view}}),e._l(e.model.current.components,(function(t,r){return n("tenant_component",{key:"component-"+r,attrs:{model:e.model,view:e.view,component:t,index:r}})})),n("tenant_component2",{key:"component-dummy",attrs:{model:e.model,view:e.view}})],2)},Fe=[];const He=8,De=8,Ae=48,ze=64,qe=200,Ue=32,je=16,Me=16,Ve=He+qe,Ge=De+ze,Le=He+Ae,Be=De+Ue,Xe=320,Ye=56;var We={DX:He,DY:De,NET_WIDTH:Ae,NET_HEIGHT:ze,CMP_WIDTH:qe,CMP_HEIGHT:Ue,CMP_HEIGHT2:je,TXT_HEIGHT:Me,XOFFSET:Ve,YOFFSET:Ge,XSLOT:Le,YSLOT:Be,PXOFFSET:Xe,PYOFFSET:Ye},Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"network network"+e.index,style:{top:e.t+"px",left:e.l+"px",width:e.w+"px",height:e.h+"px"}},[n("div",{staticClass:"icon",attrs:{title:e.network.name+"\\nipv4: "+e.network.ipv4+"\\nipv6: "+e.network.ipv6},on:{click:e.viewNetwork}},[n("i",{staticClass:"fas fa-network-wired"})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.name,expression:"network.name"}],domProps:{value:e.network.name},on:{change:e.handleChange,input:function(t){t.target.composing||e.$set(e.network,"name",t.target.value)}}})])},Ke=[],Qe={name:"tenant_network",props:["model","view","network","index"],methods:{handleChange:function(e){""===e.target.value&&this.model.deleteNetwork(this.network)},viewNetwork:function(e){return this.view.navigation="Network",this.view.detail="Network",this.view.entity=this.network,!1}},computed:{t:function(e){return We.NET_HEIGHT},l:function(e){return We.CMP_WIDTH+(this.index+1)*(We.DX+We.NET_WIDTH)-1},w:function(e){return We.NET_WIDTH},h:function(e){return We.DY+this.model.current.components.length*(We.DY+We.CMP_HEIGHT)}}},Ze=Qe,et=Object(a["a"])(Ze,Je,Ke,!1,null,null,null),tt=et.exports,nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"network dummy",style:{top:e.t+"px",left:e.l+"px",width:e.w+"px",height:e.h+"px"},on:{click:e.handleClick}},[e._m(0),n("input",{staticClass:"label",attrs:{value:"new",readonly:""}})])},rt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon"},[n("i",{staticClass:"fas fa-network-wired"})])}],it={name:"tenant_network2",props:["model","view"],methods:{handleClick:function(){this.model.addNetwork()}},computed:{t:function(e){return We.NET_HEIGHT},l:function(e){return We.CMP_WIDTH+(this.model.current.networks.length+1)*(We.DX+We.NET_WIDTH)-1},w:function(e){return We.NET_WIDTH},h:function(e){return We.DY+this.model.current.components.length*(We.DY+We.CMP_HEIGHT)}}},ot=it,at=Object(a["a"])(ot,nt,rt,!1,null,null,null),st=at.exports,lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"component index"+e.index,style:{top:e.t+"px",left:e.l+"px",width:e.w+"px",height:e.h+"px"}},[n("div",{class:"zone zone-"+e.z},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.component.placement,expression:"component.placement"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.component,"placement",t.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.zones,(function(t){return n("option",{domProps:{value:t.name}},[e._v(" "+e._s(t.tag)+" ")])}))],2)]),n("div",{staticClass:"name"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.component.name,expression:"component.name"}],domProps:{value:e.component.name},on:{change:e.handleChange,input:function(t){t.target.composing||e.$set(e.component,"name",t.target.value)}}})]),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?n("div",{staticClass:"sizing"},[e._v(" ("+e._s(e.component.min)+"/"+e._s(e.component.size)+"/"+e._s(e.component.max)+") ")]):e._e(),n("div",{staticClass:"icon",on:{click:e.viewComponent}},[n("i",{staticClass:"fas fa-server"})]),e._l(e.component.interfaces,(function(t,r){return n("tenant_interface",{key:r,attrs:{model:e.model,view:e.view,component:e.component,interface:t,index:e.index,subindex:r}})}))],2)},ct=[],mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"interface network"+e.n+" component"+e.index,style:{top:e.t+"px",left:e.l+"px",width:e.w+"px",height:e.h+"px"},attrs:{title:e.a}},[n("div",{staticClass:"serverport"}),n("div",{staticClass:"switchport"})])},ut=[],dt={name:"tenant_interface",props:["model","view","component","interface","index","subindex"],computed:{t:function(){return(this.subindex+1)*We.CMP_HEIGHT/(this.component.interfaces.length+1)},l:function(){return We.CMP_WIDTH},w:function(){for(var e=0;e<this.model.current.networks.length;e++)if(this.interface.network===this.model.current.networks[e].name)return e*(We.DX+We.NET_WIDTH)+We.NET_WIDTH;return 0},h:function(){return 1},n:function(){for(var e=0;e<this.model.current.networks.length;e++)if(this.interface.network===this.model.current.networks[e].name)return e;return 0},a:function(){return this.interface.network+(""!=this.interface.attributes?": "+this.interface.attributes:"")}}},pt=dt,vt=Object(a["a"])(pt,mt,ut,!1,null,null,null),ft=vt.exports,ht={name:"tenant_component",props:["model","view","component","index"],components:{tenant_interface:ft},methods:{handleChange:function(e){""===e.target.value&&this.model.deleteComponent(this.component)},viewComponent:function(e){this.view.navigation="Component",this.view.detail="Component",this.view.entity=this.component}},computed:{t:function(){return We.DY+We.NET_HEIGHT+this.index*(We.DY+We.CMP_HEIGHT)},l:function(){return We.DX},w:function(){return We.CMP_WIDTH},h:function(){return We.CMP_HEIGHT},z:function(){return this.component.placement.substr(0,1).toUpperCase()},zones:function(){return[{name:"OTHER",tag:"O"},{name:"EXT",tag:"E"},{name:"INT",tag:"I"},{name:"MGMT",tag:"M"},{name:"ROUTER",tag:"R"}]}}},wt=ht,gt=Object(a["a"])(wt,lt,ct,!1,null,null,null),_t=gt.exports,kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component dummy",style:{top:e.t+"px",left:e.l+"px",width:e.w+"px",height:e.h+"px"},on:{click:e.handleClick}},[n("div",{staticClass:"'zone zone-O'"}),e._m(0),n("div",{staticClass:"name"},[e._v("new component")]),n("div",{staticClass:"sizing"})])},bt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon"},[n("i",{staticClass:"fas fa-server"})])}],yt={name:"tenant_component2",props:["model","view"],methods:{handleClick:function(){this.model.addComponent()}},computed:{t:function(){return We.DY+We.NET_HEIGHT+this.model.current.components.length*(We.DY+We.CMP_HEIGHT)},l:function(){return We.DX},w:function(){return We.CMP_WIDTH},h:function(){return We.CMP_HEIGHT}}},xt=yt,Ct=Object(a["a"])(xt,kt,bt,!1,null,null,null),Tt=Ct.exports,Ot={name:"tenant",props:["model","view"],components:{tenant_network:tt,tenant_network2:st,tenant_component:_t,tenant_component2:Tt},methods:{handleClick:function(e){var t=document.getElementById("tenant_layout"),n=t.scrollLeft+e.pageX-We.PXOFFSET-We.XOFFSET,r=t.scrollTop+e.pageY-We.PYOFFSET-We.YOFFSET,i=Math.floor(n/We.XSLOT),o=Math.floor(r/We.YSLOT);if(0<=i&&i<this.model.current.networks.length&&0<=o&&o<this.model.current.components.length){var a=this.model.current.networks[i],s=this.model.current.components[o],l=this.model.hasComponentInterface(s,a.name);l?this.model.delComponentInterface(s,l):this.model.addComponentInterface(s,a.name)}}}},Pt=Ot,$t=Object(a["a"])(Pt,Se,Fe,!1,null,null,null),It=$t.exports,Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"flavorform"}},[n("div",{staticClass:"header"},[e._v("Flavor: "+e._s(e.flavor.name))]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"name"}},[e._v("Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.flavor.name,expression:"flavor.name"}],attrs:{id:"name",name:"name",required:""},domProps:{value:e.flavor.name},on:{input:function(t){t.target.composing||e.$set(e.flavor,"name",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"vcpu"}},[e._v("vCPU:")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.flavor.vcpu,expression:"flavor.vcpu",modifiers:{number:!0}}],attrs:{id:"vcpu",name:"vcpu",type:"number",required:""},domProps:{value:e.flavor.vcpu},on:{input:function(t){t.target.composing||e.$set(e.flavor,"vcpu",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"ram"}},[e._v("RAM:")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.flavor.ram,expression:"flavor.ram",modifiers:{number:!0}}],attrs:{id:"ram",name:"ram",type:"number",required:""},domProps:{value:e.flavor.ram},on:{input:function(t){t.target.composing||e.$set(e.flavor,"ram",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"disk"}},[e._v("Disk:")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.flavor.disk,expression:"flavor.disk",modifiers:{number:!0}}],attrs:{id:"disk",name:"disk",type:"number",required:""},domProps:{value:e.flavor.disk},on:{input:function(t){t.target.composing||e.$set(e.flavor,"disk",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"public"}},[e._v("Public:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.flavor.public,expression:"flavor.public"}],attrs:{id:"public",name:"public",required:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.flavor,"public",t.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),n("option",{attrs:{value:"true"}},[e._v("true")]),n("option",{attrs:{value:"false"}},[e._v("false")])])]),n("div",{staticClass:"subheader"},[e._v("Special Attributes:")]),n("div",{staticClass:"line"},[n("label",{staticClass:"top"},[e._v("Attribute:")]),n("label",{staticClass:"top"},[e._v("Value:")]),n("label",{on:{click:function(t){return e.addFlavorAttribute()}}},[n("i",{staticClass:"fas fa-plus-circle"})])]),e._l(e.flavor.special,(function(t,r){return n("div",{staticClass:"line"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"special.key"}],attrs:{id:"special_"+r+"key",name:"special_"+r+"key",required:""},domProps:{value:t.key},on:{input:function(n){n.target.composing||e.$set(t,"key",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"special.value"}],attrs:{id:"special_"+r+"value",name:"special_"+r+"value",required:""},domProps:{value:t.value},on:{input:function(n){n.target.composing||e.$set(t,"value",n.target.value)}}}),n("label",{on:{click:function(n){return e.delFlavorAttribute(t)}}},[n("i",{staticClass:"fas fa-minus-circle"})])])}))],2)},Rt=[],Et={name:"flavorform",props:["model","view","flavor"],methods:{addFlavorAttribute:function(){this.model.addFlavorAttribute(this.flavor)},delFlavorAttribute:function(e){this.model.delFlavorAttribute(this.flavor,e)}}},St=Et,Ft=Object(a["a"])(St,Nt,Rt,!1,null,null,null),Ht=Ft.exports,Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"imageform"}},[n("div",{staticClass:"header"},[e._v("Image: "+e._s(e.image.name))]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"name"}},[e._v("Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.image.name,expression:"image.name"}],attrs:{id:"name",name:"name",required:""},domProps:{value:e.image.name},on:{input:function(t){t.target.composing||e.$set(e.image,"name",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"name"}},[e._v("Version:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.image.version,expression:"image.version"}],attrs:{id:"version",name:"version",required:""},domProps:{value:e.image.version},on:{input:function(t){t.target.composing||e.$set(e.image,"version",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"format"}},[e._v("Format:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.image.format,expression:"image.format"}],class:{valid:e.disk_formats.includes(e.image.format)},attrs:{id:"disk",name:"format",required:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.image,"format",t.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.disk_formats,(function(t){return n("option",{domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2)]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"name"}},[e._v("Container:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.image.container,expression:"image.container"}],class:{valid:e.container_formats.includes(e.image.container)},attrs:{id:"container",name:"container",required:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.image,"container",t.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.container_formats,(function(t){return n("option",{domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2)]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"name"}},[e._v("Min. Disk:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.image.disk,expression:"image.disk"}],attrs:{id:"disk",name:"disk",required:""},domProps:{value:e.image.disk},on:{input:function(t){t.target.composing||e.$set(e.image,"disk",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"name"}},[e._v("Size:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.image.size,expression:"image.size"}],attrs:{id:"size",name:"size",required:""},domProps:{value:e.image.size},on:{input:function(t){t.target.composing||e.$set(e.image,"size",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"name"}},[e._v("URL:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.image.url,expression:"image.url"}],attrs:{id:"url",name:"url",required:""},domProps:{value:e.image.url},on:{input:function(t){t.target.composing||e.$set(e.image,"url",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"name"}},[e._v("Checksum:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.image.checksum,expression:"image.checksum"}],attrs:{id:"checksum",name:"checksum",required:""},domProps:{value:e.image.checksum},on:{input:function(t){t.target.composing||e.$set(e.image,"checksum",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"name"}},[e._v("Attributes:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.image.special,expression:"image.special"}],attrs:{id:"special",name:"special",required:""},domProps:{value:e.image.special},on:{input:function(t){t.target.composing||e.$set(e.image,"special",t.target.value)}}})])])},At=[],zt={name:"imageform",props:["model","view","image"],computed:{container_formats:function(){return["aki","ami","ari","bare","docker","ova","ovf"]},disk_formats:function(){return["aki","ami","ari","iso","qcow2","raw","vdi","vhd","vhdx","vmdk"]}}},qt=zt,Ut=Object(a["a"])(qt,Dt,At,!1,null,null,null),jt=Ut.exports,Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"networkform"}},[n("div",{staticClass:"header"},[e._v("Network: "+e._s(e.network.name))]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"name"}},[e._v("Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.name,expression:"network.name"}],attrs:{id:"name",name:"name",title:"Name of the network",required:""},domProps:{value:e.network.name},on:{input:function(t){t.target.composing||e.$set(e.network,"name",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"special"}},[e._v("Attributes:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.special,expression:"network.special"}],attrs:{id:"special",name:"special",title:"Special attributes"},domProps:{value:e.network.special},on:{input:function(t){t.target.composing||e.$set(e.network,"special",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"special"}},[e._v("External:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.network.external,expression:"network.external"}],attrs:{id:"external",name:"external"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.network,"external",t.target.multiple?n:n[0])}}},[n("option",[e._v("true")]),n("option",[e._v("false")])])]),n("div",{staticClass:"subheader"},[e._v("IPv4:")]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"ipv4"}},[e._v("CIDR:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv4,expression:"network.ipv4"}],attrs:{id:"ipv4",name:"ipv4",title:"IPv4 CIDR"},domProps:{value:e.network.ipv4},on:{input:function(t){t.target.composing||e.$set(e.network,"ipv4",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"ipv4"}},[e._v("Gateway:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv4gw,expression:"network.ipv4gw"}],attrs:{id:"ipv4gw",name:"ipv4gw",title:"IPv4 gateway"},domProps:{value:e.network.ipv4gw},on:{input:function(t){t.target.composing||e.$set(e.network,"ipv4gw",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"ipv4"}},[e._v("Start:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv4start,expression:"network.ipv4start"}],attrs:{id:"ipv4start",name:"ipv4start",title:"Start of IPv4 address pool"},domProps:{value:e.network.ipv4start},on:{input:function(t){t.target.composing||e.$set(e.network,"ipv4start",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"ipv4"}},[e._v("End:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv4end,expression:"network.ipv4end"}],attrs:{id:"ipv4end",name:"ipv4end",title:"End of IPv4 address pool"},domProps:{value:e.network.ipv4end},on:{input:function(t){t.target.composing||e.$set(e.network,"ipv4end",t.target.value)}}})]),n("div",{staticClass:"subheader"},[e._v("IPv6:")]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"ipv6"}},[e._v("CIDR:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv6,expression:"network.ipv6"}],attrs:{id:"ipv6",name:"ipv6",title:"IPv6 CIDR"},domProps:{value:e.network.ipv6},on:{input:function(t){t.target.composing||e.$set(e.network,"ipv6",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"ipv6"}},[e._v("Gateway:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv6gw,expression:"network.ipv6gw"}],attrs:{id:"ipv6gw",name:"ipv6gw",title:"IPv6 gateway"},domProps:{value:e.network.ipv6gw},on:{input:function(t){t.target.composing||e.$set(e.network,"ipv6gw",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"ipv4"}},[e._v("Start:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv6start,expression:"network.ipv6start"}],attrs:{id:"ipv6start",name:"ipv6start",title:"Start of IPv6 address pool"},domProps:{value:e.network.ipv6start},on:{input:function(t){t.target.composing||e.$set(e.network,"ipv6start",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"ipv4"}},[e._v("End:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv6end,expression:"network.ipv6end"}],attrs:{id:"ipv6end",name:"ipv6end",title:"End of IPv6 address pool"},domProps:{value:e.network.ipv6end},on:{input:function(t){t.target.composing||e.$set(e.network,"ipv6end",t.target.value)}}})]),n("div",{staticClass:"subheader"},[e._v("Routes:")]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"route"}},[e._v("Route:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.route,expression:"network.route"}],attrs:{id:"route",name:"route",title:"Comma seperated list of route targets"},domProps:{value:e.network.route},on:{input:function(t){t.target.composing||e.$set(e.network,"route",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"route"}},[e._v("Export:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.export,expression:"network.export"}],attrs:{id:"export",name:"export",title:"Comma seperated list of exported route targets"},domProps:{value:e.network.export},on:{input:function(t){t.target.composing||e.$set(e.network,"export",t.target.value)}}})]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"route"}},[e._v("Import:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.import,expression:"network.import"}],attrs:{id:"import",name:"import",title:"Comma seperated list of imported route targets"},domProps:{value:e.network.import},on:{input:function(t){t.target.composing||e.$set(e.network,"import",t.target.value)}}})])])},Vt=[],Gt={name:"networkform",props:["model","view","network"]},Lt=Gt,Bt=Object(a["a"])(Lt,Mt,Vt,!1,null,null,null),Xt=Bt.exports,Yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"componentform"}},[n("div",{staticClass:"header"},[e._v("Component: "+e._s(e.component.name))]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"name"}},[e._v("Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.component.name,expression:"component.name"}],staticClass:"col5",attrs:{id:"name",name:"name",required:""},domProps:{value:e.component.name},on:{input:function(t){t.target.composing||e.$set(e.component,"name",t.target.value)}}}),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?n("label",{attrs:{for:"name"}},[e._v("User:")]):e._e(),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?n("input",{directives:[{name:"model",rawName:"v-model",value:e.component.user,expression:"component.user"}],staticClass:"col5",attrs:{id:"user",name:"user",required:""},domProps:{value:e.component.user},on:{input:function(t){t.target.composing||e.$set(e.component,"user",t.target.value)}}}):e._e()]),n("div",{staticClass:"line"},[n("label",{attrs:{for:"placement"}},[e._v("Placement:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.component.placement,expression:"component.placement"}],class:{valid:e.zones.includes(e.component.placement)},attrs:{id:"placement",name:"placement",required:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.component,"placement",t.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.zones,(function(t){return n("option",{domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?n("label",{attrs:{for:"flavor"}},[e._v("Flavor:")]):e._e(),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?n("select",{directives:[{name:"model",rawName:"v-model",value:e.component.flavor,expression:"component.flavor"}],class:{valid:e.flavors.includes(e.component.flavor)},attrs:{id:"flavor",name:"flavor",required:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.component,"flavor",t.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.flavors,(function(t){return n("option",{domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2):e._e(),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?n("label",{attrs:{for:"image"}},[e._v("Image:")]):e._e(),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?n("select",{directives:[{name:"model",rawName:"v-model",value:e.component.image,expression:"component.image"}],class:{valid:e.images.includes(e.component.image)},attrs:{id:"image",name:"image",required:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.component,"image",t.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.images,(function(t){return n("option",{domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2):e._e()]),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?n("div",{staticClass:"line"},[n("label",{attrs:{for:"min"}},[e._v("Minimum:")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.component.min,expression:"component.min",modifiers:{number:!0}}],attrs:{id:"min",name:"min",type:"number",required:""},domProps:{value:e.component.min},on:{input:function(t){t.target.composing||e.$set(e.component,"min",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("label",{attrs:{for:"size"}},[e._v("Size:")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.component.size,expression:"component.size",modifiers:{number:!0}}],attrs:{id:"size",name:"size",type:"number",required:""},domProps:{value:e.component.size},on:{input:function(t){t.target.composing||e.$set(e.component,"size",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("label",{attrs:{for:"max"}},[e._v("Maximum:")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.component.max,expression:"component.max",modifiers:{number:!0}}],attrs:{id:"max",name:"max",type:"number",required:""},domProps:{value:e.component.max},on:{input:function(t){t.target.composing||e.$set(e.component,"max",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]):e._e(),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?n("div",{staticClass:"subheader"},[e._v(" Volumes: ")]):e._e(),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?n("div",{staticClass:"line"},[n("label",{staticClass:"top"},[e._v("Name:")]),n("label",{staticClass:"top"},[e._v("Size:")]),n("label",{staticClass:"top"},[e._v("Type:")]),n("label",{staticClass:"top"},[e._v("Attributes:")]),n("label",{on:{click:e.addVolume}},[n("i",{staticClass:"fas fa-plus-circle"})])]):e._e(),e._l(e.component.volumes,(function(t,r){return"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?n("div",{staticClass:"line"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"volume.name"}],attrs:{id:"volumes_"+r+"_name",name:"volumes_"+r+"_name",required:""},domProps:{value:t.name},on:{input:function(n){n.target.composing||e.$set(t,"name",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.size,expression:"volume.size",modifiers:{number:!0}}],attrs:{id:"volumes_"+r+"_size",name:"volumes_"+r+"_size",type:"number",required:""},domProps:{value:t.size},on:{input:function(n){n.target.composing||e.$set(t,"size",e._n(n.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"volume.type"}],class:{valid:e.storagetypes.includes(t.type)},attrs:{id:"volumes_"+r+"_type",name:"volumes_"+r+"_type",required:""},on:{change:function(n){var r=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"type",n.target.multiple?r:r[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.storagetypes,(function(t){return n("option",{domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2),n("input",{directives:[{name:"model",rawName:"v-model",value:t.attributes,expression:"volume.attributes"}],attrs:{id:"volumes_"+r+"_attributes",name:"volumes_"+r+"_attributes"},domProps:{value:t.attributes},on:{input:function(n){n.target.composing||e.$set(t,"attributes",n.target.value)}}}),n("label",{on:{click:function(n){return e.delVolume(t)}}},[n("i",{staticClass:"fas fa-minus-circle"})])]):e._e()})),n("div",{staticClass:"subheader"},[e._v("Interfaces:")]),n("div",{staticClass:"line"},[n("label",{staticClass:"top"},[e._v("Network:")]),n("label",{staticClass:"top"},[e._v("Attributes:")]),n("label",{staticClass:"top"}),n("label",{staticClass:"top"}),n("label",{on:{click:function(t){return e.addInterface()}}},[n("i",{staticClass:"fas fa-plus-circle"})])]),e._l(e.component.interfaces,(function(t,r){return n("div",{staticClass:"line"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.network,expression:"componentInterface.network"}],class:{valid:e.all_networks.includes(t.network)},attrs:{id:"interfaces_"+r+"_network",name:"interfaces_"+r+"_network",required:""},on:{change:function(n){var r=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"network",n.target.multiple?r:r[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.all_networks,(function(t){return n("option",{domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2),n("input",{directives:[{name:"model",rawName:"v-model",value:t.attributes,expression:"componentInterface.attributes"}],staticClass:"col3",attrs:{id:"interfaces_"+r+"_attributes",name:"interfaces_"+r+"_attributes"},domProps:{value:t.attributes},on:{input:function(n){n.target.composing||e.$set(t,"attributes",n.target.value)}}}),n("label",{on:{click:function(n){return e.delInterface(t)}}},[n("i",{staticClass:"fas fa-minus-circle"})])])})),"ROUTER"!=e.component.placement?n("div",{staticClass:"subheader"},[e._v(" Services: ")]):e._e(),"ROUTER"!=e.component.placement?n("div",{staticClass:"line"},[n("label",{staticClass:"top"},[e._v("Name:")]),n("label",{staticClass:"top"},[e._v("Network")]),n("label",{staticClass:"top"},[e._v("Protocol")]),n("label",{staticClass:"top"},[e._v("Range:")]),n("label",{on:{click:function(t){return e.addService()}}},[n("i",{staticClass:"fas fa-plus-circle"})])]):e._e(),e._l(e.component.services,(function(t,r){return"ROUTER"!=e.component.placement?n("div",{staticClass:"line"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"service.name"}],attrs:{id:"services_"+r+"_name",name:"services_"+r+"_name",required:""},domProps:{value:t.name},on:{input:function(n){n.target.composing||e.$set(t,"name",n.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:t.network,expression:"service.network"}],class:{valid:""!==t.network},attrs:{id:"services_"+r+"_network",name:"services_"+r+"_network"},on:{change:function(n){var r=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"network",n.target.multiple?r:r[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.component.interfaces,(function(t){return n("option",{domProps:{value:t.network}},[e._v(" "+e._s(t.network)+" ")])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:t.protocol,expression:"service.protocol"}],class:{valid:e.protocols.includes(t.protocol)},attrs:{id:"services_"+r+"_protocol",name:"services_"+r+"_protocol",required:""},on:{change:function(n){var r=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"protocol",n.target.multiple?r:r[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.protocols,(function(t){return n("option",{domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2),n("input",{directives:[{name:"model",rawName:"v-model",value:t.range,expression:"service.range"}],attrs:{id:"services_"+r+"_range",name:"services_"+r+"_range",required:""},domProps:{value:t.range},on:{input:function(n){n.target.composing||e.$set(t,"range",n.target.value)}}}),n("label",{on:{click:function(n){return e.delService(t)}}},[n("i",{staticClass:"fas fa-minus-circle"})])]):e._e()})),"ROUTER"!=e.component.placement?n("div",{staticClass:"subheader"},[e._v(" Dependencies: ")]):e._e(),"ROUTER"!=e.component.placement?n("div",{staticClass:"line"},[n("label",{staticClass:"top"},[e._v("Component:")]),n("label",{staticClass:"top"},[e._v("Service:")]),n("label",{staticClass:"top"},[e._v("Network")]),n("label",{on:{click:function(t){return e.addDependency()}}},[n("i",{staticClass:"fas fa-plus-circle"})])]):e._e(),e._l(e.component.dependencies,(function(t,r){return"ROUTER"!=e.component.placement?n("div",{staticClass:"line"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.component,expression:"dependency.component"}],class:{valid:e.components.includes(t.component)},attrs:{id:"dependencies_"+r+"_component",name:"dependencies_"+r+"_component",required:""},on:{change:function(n){var r=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"component",n.target.multiple?r:r[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.components,(function(t){return n("option",{domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:t.service,expression:"dependency.service"}],class:{valid:e.services2.includes(t.component+":"+t.service)},attrs:{id:"dependencies_"+r+"_service",name:"dependencies_"+r+"_service",required:""},on:{change:function(n){var r=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"service",n.target.multiple?r:r[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.services,(function(r){return r.component===t.component?n("option",{domProps:{value:r.service}},[e._v(" "+e._s(r.service)+" ")]):e._e()}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:t.network,expression:"dependency.network"}],class:{valid:e.interfaces.includes(t.network)},attrs:{id:"dependencies_"+r+"_network",name:"dependencies_"+r+"_network",required:""},on:{change:function(n){var r=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"network",n.target.multiple?r:r[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.component.interfaces,(function(t){return n("option",{domProps:{value:t.network}},[e._v(" "+e._s(t.network)+" ")])}))],2),n("label",{on:{click:function(n){return e.delDependency(t)}}},[n("i",{staticClass:"fas fa-minus-circle"})])]):e._e()})),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?n("div",{staticClass:"subheader"},[e._v(" User Data: ")]):e._e(),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?n("div",{staticClass:"line"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.component.userdata,expression:"component.userdata"}],staticClass:"userdata",domProps:{value:e.component.userdata},on:{input:function(t){t.target.composing||e.$set(e.component,"userdata",t.target.value)}}})]):e._e(),n("div",{staticClass:"line"})],2)},Wt=[],Jt={name:"",props:["model","view","component"],computed:{services:function(){let e=[];for(var t of this.model.current.components)for(var n of t.services)e.push({component:t.name,service:n.name});return e},services2:function(){let e=[];for(var t of this.model.current.components)for(var n of t.services)e.push(t.name+":"+n.name);return e},components:function(){return this.model.current.components.filter(e=>"ROUTER"!=e.placement).map(e=>e.name)},all_networks:function(){return this.model.current.networks.map(e=>e.name)},interfaces:function(){return this.component.interfaces.map(e=>e.network)},zones:function(){return["OTHER","EXT","INT","MGMT","ROUTER"]},flavors:function(){return this.model.current.flavors.map(e=>e.name)},images:function(){return this.model.current.images.map(e=>e.name)},storagetypes:function(){return["EXT","INT"]},protocols:function(){return["tcp","udp","icmp","any","sctp","none"]},userdata:function(){return this.component.userdata.map((function(e,t){return{uuid:uuidv4(),index:t}}))}},methods:{addVolume:function(){this.model.addComponentVolume(this.component)},delVolume:function(e){this.model.delComponentVolume(this.component,e)},addInterface:function(){this.model.addComponentInterface(this.component)},delInterface:function(e){this.model.delComponentInterface(this.component,e)},addService:function(){this.model.addComponentService(this.component)},delService:function(e){this.model.delComponentService(this.component,e)},addDependency:function(){this.model.addComponentDependency(this.component)},delDependency:function(e){this.model.delComponentDependency(this.component,e)},addUserdata:function(){this.model.addUserdata(this.component)},delUserdata:function(e){this.model.delUserdata(this.component,this.component.userdata[e.index])}}},Kt=Jt,Qt=Object(a["a"])(Kt,Yt,Wt,!1,null,null,null),Zt=Qt.exports,en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"exportform"}},[n("div",{staticClass:"header"},[e._v(" Export: "+e._s(e.model.current.vnf)+"/"+e._s(e.model.current.tenant.name)+" ("+e._s(e.model.current.version)+") "),n("div",{staticClass:"button",attrs:{title:"download archive"},on:{click:e.downloadArchive}},[n("i",{staticClass:"fas fa-file-archive"}),e._v(" Archive ")]),n("div",{staticClass:"button",attrs:{title:"download file"},on:{click:e.download}},[n("i",{staticClass:"fas fa-download"}),e._v(" Save ")]),n("div",{staticClass:"button",attrs:{title:"copy to clipboard"},on:{click:e.copyToClipboard}},[n("i",{staticClass:"fas fa-copy"}),e._v(" Copy ")]),n("div",{staticClass:"format"},[e._v(" Format: "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.view.export,expression:"view.export"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.view,"export",t.target.multiple?n:n[0])}}},e._l(e.formats,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)])]),n("div",{staticClass:"line"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.result,expression:"result"}],attrs:{id:"export",name:"export",readonly:""},domProps:{value:e.result},on:{input:function(t){t.target.composing||(e.result=t.target.value)}}})])])},tn=[],nn={"networks.tmpl":"---\nnetworks:\n{% for name in network_names %}\n{% set n = namespace(network='unknown',subnet='unknown',cidr='',gateway='',start='',end='') %}\n{% for network in networks.ansible_facts.openstack_networks %}{% if network.name == name %}\n{% set n.network = 'defined' %}\n{% for subnet in subnets.ansible_facts.openstack_subnets %}{% if subnet.network_id == network.id %}\n{% set n.subnet  = 'defined' %}\n{% set n.cidr    = subnet.cidr %}\n{% set n.gateway = subnet.gateway_ip %}\n{% set n.start   = subnet.allocation_pools[0].start %}\n{% set n.end     = subnet.allocation_pools[0].end %}\n{% endif %}{% endfor %}\n{% endif %}{% endfor %}\n  {{name}}:\n    network: {{ n.network }}\n    subnet:  {{ n.subnet }}\n    cidr:    {{ n.cidr }}\n    gateway: {{ n.gateway }}\n    start:   {{ n.start }}\n    end:     {{ n.end }}\n{% endfor %}","servers.tmpl":'---\n{% set n = namespace(server_found=false,port_found=false) %}\nservers:\n{% for server_name in server_names %}\n{% set n.server_found = false %}\n  {{server_name}}:\n{% for server in servers.ansible_facts.openstack_servers %}{% if server.name == server_name %}{% set n.server_found = true %}\n    status:  "defined"\n{% endif %}{% endfor %}\n{% if n.server_found == false %}\n    status:  "unknown"\n{% endif %}\n    interfaces:\n{% for port_name in port_names %}{% if port_name.startswith(server_name + \'_\') %}\n{% set n.port_found = false %}\n      {{ port_name | replace(prefix + server_name + "_","") }}:\n{% for port in ports.ansible_facts.openstack_ports %}{% if port.name == port_name %}{% set n.port_found = true %}\n        status:    "defined"\n        fixed:     "{{ port.fixed_ips | map(attribute=\'ip_address\') | join(\', \') }}"\n        allowed:   "{{ port.allowed_address_pairs | map(attribute=\'ip_address\') | join(\', \') }}"\n{% endif %}{% endfor %}\n{% if n.port_found == false %}\n        status:  "unknown"\n        fixed:   ""\n        allowed: ""\n{% endif %}\n{% endif %}{% endfor %}\n{% endfor %}\n',"ansible.cfg":"\n[defaults]\ninventory       = ./output/inventory\nstdout_callback = yaml\n\n[ssh_connection]\nssh_args     = -F ./output/config\ncontrol_path = ./mux-%r@%h:%p",inventory:"localhost ansible_connection=local\n\n[servers]\n{% for server_name in server_names %}\n{{server_name}}\n{% endfor %}\n\n[ssh_servers]\n{% for server_name in ssh_server_names %}\n{{server_name}}\n{% endfor %}",default_inventory:"localhost ansible_connection=local ",setup:'#!/usr/bin/env bash\n\nROOT="."\n\nif [ -f "$ROOT/setup.sh" ]; then\n  chmod a+x $ROOT/networks/*.yml\n  chmod a+x $ROOT/servers/*.sh\n  chmod a+x $ROOT/servers/*.yml\n  find  $ROOT/servers -name \'*.yml\' -type f | xargs chmod a+x\n  find  $ROOT/router  -name \'*.yml\' -type f | xargs chmod a+x\nelse\n  echo "Script should be sourced within the same directory"\nfi'};nn["setup"]='#!/usr/bin/env bash\n\n# This script has to be sourced in order to adjust the path\nif [[ $_ == $0 ]]\nthen\n  echo ""\n  echo "This script has to be sourced!"\n  echo ""\n  return\nfi\n\n# Check availability of required software\nwhich ansible 2>&1 > /dev/null\nif [[ "$?" == "1" ]]; then\n  echo ""\n  echo "Ansible has not been installed!"\n  echo ""\n  return\nfi\n\nwhich openstack 2>&1 > /dev/null\nif [[ "$?" == "1" ]]; then\n  echo ""\n  echo "openstack client has not been installed!"\n  echo ""\n  return\nfi\n\n# Determine root directory of the setup.sh script\nROOT="/"$(pwd)"/$BASH_SOURCE"\nROOT=$(echo $ROOT | sed \'s/.........$//\' )\n\n# Determine the bin directory\nBIN="$ROOT/bin"\n\n# Add bin subdirectory bin to path\nif [ -d "$BIN" ] && [[ ":$PATH:" != *":$BIN:"* ]]; then\n    export PATH="$PATH:$BIN"\nfi\n\n# Make all scripts executable\nfind  $BIN                    -name \'*.sh\'  -type f | xargs chmod a+x 2>&1 > /dev/null\nfind  $ROOT/elements/networks -name \'*.yml\' -type f | xargs chmod a+x 2>&1 > /dev/null\nfind  $ROOT/elements/networks -name \'*.sh\'  -type f | xargs chmod a+x 2>&1 > /dev/null\nfind  $ROOT/elements/servers  -name \'*.yml\' -type f | xargs chmod a+x 2>&1 > /dev/null\nfind  $ROOT/elements/servers  -name \'*.sh\'  -type f | xargs chmod a+x 2>&1 > /dev/null\nfind  $ROOT/elements/router   -name \'*.yml\' -type f | xargs chmod a+x 2>&1 > /dev/null\nfind  $ROOT/elements/router   -name \'*.sh\'  -type f | xargs chmod a+x 2>&1 > /dev/null\n\n# Create ansible.cfg file in ROOT\necho "[defaults]"                               >  $ROOT/ansible.cfg\necho "inventory       = $ROOT/output/inventory" >> $ROOT/ansible.cfg\necho "stdout_callback = yaml"                   >> $ROOT/ansible.cfg\necho ""                                         >> $ROOT/ansible.cfg\necho "[ssh_connection]"                         >> $ROOT/ansible.cfg\necho "ssh_args     = -F $ROOT/output/config"    >> $ROOT/ansible.cfg\necho "control_path = ./mux-%r@%h:%p"            >> $ROOT/ansible.cfg\n\n# Define basic ansible configuration file\nexport ANSIBLE_CONFIG=$ROOT/ansible.cfg\n\n# Change to root directory\ncd $ROOT\n\n# Source openrc\nif [ ! -f "input/openrc" ];\nthen\n  echo ""\n  echo "OpenStack openrc file can not be found in the input directory"\n  echo ""\n  return\nfi\n\nsource $ROOT/input/openrc\n\n# Completed\necho ""\necho "Infrastructure context has been initialised."\necho ""\necho "The available comands are:"\necho "- openstack ..."\ncd bin;\nfor SCRIPT in *.sh;\ndo\n    echo "- $SCRIPT"\ndone\ncd ..\necho ""',nn["infrastructure_authorize.sh"]='#!/usr/bin/env bash\n\nset -e\n\n# determine script path\nSCRIPTPATH="$( cd "$(dirname "$0")/../elements" ; pwd -P )"\n\n# change to root directory\nROOT="$( cd "$(dirname "$0")/.." ; pwd -P )"\ncd $ROOT\n\n# check if the file authorized keys exists\nif [ ! -f input/authorized_keys ]; then\n  echo ""\n  echo "Can not find \'authorized_keys\' in input directory!"\n  echo ""\n  exit 1\nfi\n\n# Deploy keys\necho "================================================================================"\necho "= Deploy keys on each server                                                   ="\necho "================================================================================"\n\nfor SCRIPT in $SCRIPTPATH/servers/*/ssh*;\ndo\n    echo "- $SCRIPT"\n    $SCRIPT -i $ROOT/output/inventory > /dev/null &\ndone\nwait\necho ""\n\necho "Completed"\necho ""',nn["infrastructure_connect.sh"]='#!/usr/bin/env bash\n\nset -e\n\n# determine script path\nSCRIPTPATH="$( cd "$(dirname "$0")/../elements" ; pwd -P )"\n\n# change to root directory\nROOT="$( cd "$(dirname "$0")/.." ; pwd -P )"\ncd $ROOT\n\n# check if the private file exists\nif [ ! -f input/id_rsa ]; then\n  echo ""\n  echo "Can not find \'id_rsa\' in input directory!"\n  echo ""\n  exit 1\nfi\n\n# Check if the config file exists\nif [ ! -f output/config ]; then\n  echo ""\n  echo "Can not find \'config\' in output directory!"\n  echo ""\n  exit 1\nfi\n\n# Check if a server name has been provided\nif [ "$#" -ne 1 ]; then\n    echo ""\n    echo "Usage: infrastructure_connect.sh <server>"\n    echo ""\n    exit\nfi\n\n# Connect\nssh -F output/config $1',nn["infrastructure_create.sh"]='#!/usr/bin/env bash\n\n# determine script path\nSCRIPTPATH="$( cd "$(dirname "$0")/../elements" ; pwd -P )"\n\n# change to root directory\ncd $SCRIPTPATH/..\n\n# Setup networks\necho "================================================================================"\necho "= Setting up the networks                                                      ="\necho "================================================================================"\necho "- /networks/create.yml"\n$SCRIPTPATH/networks/create.yml > /dev/null\necho ""\n\n# Setup security policies\necho "================================================================================"\necho "= Setting up security policies                                                 ="\necho "================================================================================"\n\nfor DIR in $SCRIPTPATH/servers/*/;\ndo\n    echo "- $DIR/define_security.yml"\n    $DIR/define_security.yml > /dev/null &\ndone\nwait\necho ""\n\n# Setup servers\necho "================================================================================"\necho "= Setting up servers                                                           ="\necho "================================================================================"\n\nfor SCRIPT in $SCRIPTPATH/servers/*/create*;\ndo\n    echo "- $SCRIPT"\n    $SCRIPT > /dev/null &\ndone\nwait\necho ""\n\necho "Completed"\necho ""',nn["infrastructure_delete.sh"]='#!/usr/bin/env bash\n\n# determine script path\nSCRIPTPATH="$( cd "$(dirname "$0")/../elements" ; pwd -P )"\n\n# change to root directory\ncd $SCRIPTPATH/..\n\n# Tear down servers\necho "================================================================================"\necho "= Tear down servers                                                            ="\necho "================================================================================"\n\nfor SCRIPT in $SCRIPTPATH/servers/*/delete*;\ndo\n    echo "- $SCRIPT"\n    $SCRIPT > /dev/null &\ndone\nwait\necho ""\n\n# Remove security policies\necho "================================================================================"\necho "= Remove security policies                                                     ="\necho "================================================================================"\n\nfor DIR in $SCRIPTPATH/servers/*/;\ndo\n    echo "- $DIR/undefine_security.yml"\n    $DIR/undefine_security.yml > /dev/null &\ndone\nwait\necho ""\n\n# Tear down networks\necho "================================================================================"\necho "= Tear down networks                                                           ="\necho "================================================================================"\necho "- /networks/delete.yml"\n$SCRIPTPATH/networks/delete.yml > /dev/null\necho ""\n\necho "Completed"\necho ""',nn["infrastructure_status.sh"]='#!/usr/bin/env bash\n\n# determine script path\nSCRIPTPATH="$( cd "$(dirname "$0")/../elements" ; pwd -P )"\n\n# change to root directory\ncd $SCRIPTPATH/..\n\necho "================================================================================"\necho "= Status of networks                                                           ="\necho "================================================================================"\necho ""\n\n$SCRIPTPATH/networks/status.yml > /dev/null\n\necho "================================================================================"\necho "= Status of servers                                                            ="\necho "================================================================================"\necho ""\n\n$SCRIPTPATH/servers/status.yml > /dev/null\n\necho "Completed"\necho ""';var rn=nn,on=n("afe2"),an=n.n(on),sn={Canonical:'---\nschema:     {{schema}}\nvnf:        {{vnf}}\nversion:    {{version}}\ntenant:\n  name:          "{{tenant.name}}"\n  auth:\n    username:    "{{tenant.auth.username}}"\n    password:    "{{tenant.auth.password}}"\n    url:         "{{tenant.auth.url}}"\nflavors:\n{% for flavor in flavors %}\n  - uuid:    "{{flavor.uuid}}"\n    name:    "{{flavor.name}}"\n    vcpu:    {{flavor.vcpu}}\n    ram:     {{flavor.ram}}\n    disk:    {{flavor.disk}}\n    public:  "{{flavor.public}}"\n{% if flavor.special|length == 0 %}\n    special: []\n{% endif -%}\n{% if flavor.special|length >  0 %}\n    special:\n{% endif -%}\n{% for special in flavor.special %}\n      - { key: "{{special.key}}", value: "{{special.value}}" }\n{% endfor %}\n{% endfor %}\nimages:\n{% for image in images -%}\n  - { uuid: "{{image.uuid}}",\n      name: "{{image.name}}",\n      version: "{{image.version}}",\n      format: "{{image.format}}",\n      container: "{{image.container}}",\n      disk: "{{image.disk}}",\n      size: "{{image.size}}",\n      checksum: "{{image.checksum}}",\n      url: "{{image.url}}",\n      special: "{{image.special}}" }\n{% endfor %}\nnetworks:\n{% for network in networks%}\n  - uuid:      "{{network.uuid}}"\n    name:      "{{network.name}}"\n    external:  "{{network.external}}"\n    ipv4:      "{{network.ipv4}}"\n    ipv4gw:    "{{network.ipv4gw}}"\n    ipv4start: "{{network.ipv4start}}"\n    ipv4end:   "{{network.ipv4end}}"\n    ipv6:      "{{network.ipv6}}"\n    ipv6gw:    "{{network.ipv6gw}}"\n    ipv6start: "{{network.ipv6start}}"\n    ipv6end:   "{{network.ipv6end}}"\n    route:     "{{network.route}}"\n    export:    "{{network.export}}"\n    import:    "{{network.import}}"\n    special:   "{{network.special}}"\n{% endfor %}\ncomponents:\n{% for component in components %}\n  - uuid:         "{{component.uuid}}"\n    name:         "{{component.name}}"\n    user:         "{{component.user}}"\n    placement:    "{{component.placement}}"\n    flavor:       "{{component.flavor}}"\n    image:        "{{component.image}}"\n    min:          {{component.min}}\n    size:         {{component.size}}\n    max:          {{component.max}}\n{% if component.volumes|length == 0 %}\n    volumes:      []\n{% endif -%}\n{% if component.volumes|length >  0 %}\n    volumes:\n{% endif -%}\n{% for volume in component.volumes %}\n      - { name: "{{volume.name}}", size: {{volume.size}}, type: "{{volume.type}}", attributes: "{{volume.attributes}}" }\n{% endfor %}\n{% if component.interfaces|length == 0 %}\n    interfaces:   []\n{% endif -%}\n{% if component.interfaces|length >  0 %}\n    interfaces:\n{% endif -%}\n{% for interface in component.interfaces %}\n      - { network: "{{interface.network}}", attributes: "{{interface.attributes}}" }\n{% endfor %}\n{% if component.services|length == 0 %}\n    services:     []\n{% endif -%}\n{% if component.services|length >  0 %}\n    services:\n{% endif -%}\n{% for service in component.services %}\n      - { name: "{{service.name}}", network: "{{service.network}}", protocol: "{{service.protocol}}", range: "{{service.range}}" }\n{% endfor %}\n{% if component.dependencies|length == 0 %}\n    dependencies: []\n{% endif -%}\n{% if component.dependencies|length >  0 %}\n    dependencies:\n{% endif -%}\n{% for dependency in component.dependencies %}\n      - { component: "{{dependency.component}}", service: "{{dependency.service}}", network: "{{dependency.network}}" }\n{% endfor %}\n{% if component.userdata == "" %}\n    userdata:     ""\n{% endif -%}\n{% if component.userdata != "" %}\n    userdata: |\n      {{ component.userdata | indent(6) | safe }}\n{% endif -%}\n\n{% endfor %}\n',"Communication Matrix":"From                |Network |To                  |Service   |Protocol|Port (range)    |Network\n{% for component1 in components %}{% for dependency in component1.dependencies %}\n{% for component2 in components %}{% if component2.name == dependency.component %}\n{% for service in component2.services %}{% if service.name == dependency.service %}\n{{(component1.name    + '                    ') | truncate(20,false,'') }}|{{(dependency.network + '        ') | truncate(8,false,'') }}|{{(component2.name + '                    ') | truncate(20,false,'') }}|{{(service.name + '          ') | truncate(10,false,'') }}|{{(service.protocol + '        ') | truncate(8,false,'')  }}|{{(service.range      + '                ') | truncate(16,false,'') }}|{{(service.network    + '      ') | truncate(6,false,'')  }}\n{% endif %}{% endfor %}\n{% endif %}{% endfor %}\n{% endfor %}{% endfor %}",VNFds:'\n[{% for component in components %}\n{\n  "vnfProductInfoName": "TODO: Training FortiGate VNF",\n  "vnfdId": "{{component.name}}",\n  "exportedModelVersion": "{{component.version}}",\n  "vnfdOperationalState": "ENABLED",\n  "vnfdProductName": "TODO: Training FortiOS VNF",\n  "vnfSoftwareVersion": "TODO: 1.0",\n  "vnfdVersion": "TODO: 1.0",\n  "vnfProvider": "TODO: Fortinet",\n  "vdus": [\n    {\n      "intCpd": [\n        {% for network in networks %}\n        "{{ network.name }}"{{ "," if not loop.last }}\n        {% endfor %}\n      ],\n      "vduId": "{{ component.name }}_base_vdu",\n      "virtualComputeDesc": "{{ component.name }}_base",\n      "name": "{{ component.name }} Base VDU",\n      "swImageDesc": "{{ component.image }}"\n    }\n  ],\n  "virtualComputeDescs": [\n    {\n      "virtualMemory": {\n        "virtualMemSize": 1024\n      },\n      "virtualComputeDescId": "{{ component.name }}_base",\n      "virtualCpu": {\n        "numVirtualCpu": 1\n      }\n    }\n  ],\n  "vduProfiles": [\n    {\n      "minNumberOfInstances": {{component.min}},\n      "vduProfileId": "{{ component.name }}_base_vdu_profile",\n      "maxNumberOfInstances": {{component.max}},\n      "vduId": "{{ component.name }}_base_vdu"\n    }\n  ],\n  "softwareImages": [\n    "fortios_qcow2"\n  ],\n  "instantiationLevels": [\n    {\n      "levelId": "base_level_1",\n      "vduLevel": [\n        {\n          "vduLevelId": "base_vdu_level_1",\n          "numberOfInstances": 1,\n          "vduId": "{{ component.name }}_base_vdu"\n        }\n      ]\n    }\n  ],\n  "vnfExtCpds": [{% for network in networks %}\n    {\n      "intCpd": "{{ network.name }}",\n      "cpd": {\n        "cpdId": "ext_{{ network.name }}"\n      }\n    }{{ "," if not loop.last }}{% endfor %}\n  ],\n  "intCpds": [{% for network in networks %}\n    {\n      "cpd": {\n        "cpdId": "{{ network.name }}"\n      }\n    }{{ "," if not loop.last }}{% endfor %}\n  ],\n  "deploymentFlavors": [\n    {\n      "vduProfile": [\n        "{{ component.name }}_base_vdu_profile"\n      ],\n      "defaultInstantiationLevel": "base_level_1",\n      "vnfLcmOperationsConfiguration": {\n        "scaleVnfOpConfig": {\n          "scalingByMoreThanOneStepSupported": false\n        }\n      },\n      "flavourId": "base",\n      "instantiationLevel": [\n        "base_level_1"\n      ]\n    }\n  ]\n}{{ "," if not loop.last }}\n{% endfor %}\n]\n',NSds:'{\n  "message": "placeholder for NSds generation"\n}'},ln=sn,cn={fixed_ips_filter(e){var t=/fixed:[^;]*/i,n=[],r=e.match(t);if(!r)return n;var i=r[0],o=i.substr(7),a=o.split(",");for(var s of a)if(s.indexOf("-")<0)n.push(s);else for(var l of this.generate_ip_range(s))n.push(l);return n},allowed_ips_filter(e){var t=/allowed:[^;]*/i,n=[],r=e.match(t);if(!r)return n;var i=r[0],o=i.substr(9),a=o.split(",");for(var s of a)if(s.indexOf("-")<0)n.push(s);else for(var l of this.generate_ip_range(s))n.push(l);return n},port_min_filter(e){var t=e.split("-");return 2==t.length?t[0]:e},port_max_filter(e){var t=e.split("-");return 2==t.length?t[1]:e},generate_ip_range(e){for(var t=[],n=e.lastIndexOf("."),r=e.substr(0,n),i=e.substr(n+1),o=i.split("-"),a=parseInt(o[0],10),s=parseInt(o[1],10),l=a;l<=s;l++)t.push(r+"."+l);return t},emptyModel(){return{vnf:"",version:"",tenant:{name:"",auth:{username:"",password:"",url:""}},flavors:[],images:[],networks:[],components:[]}},render(e,t){var n=ln[t],r=an.a.configure({trimBlocks:!0});return r.addFilter("fixed",this.fixed_ips_filter),r.addFilter("allowed",this.allowed_ips_filter),r.addFilter("portmin",this.port_min_filter),r.addFilter("portmax",this.port_max_filter),an.a.renderString(n,e)},splitter(e){var t={},n="",r=e.split("\n"),i="";for(const a of r){var o=a.match("----- .* -----");o&&o[0]==a?(""!=i&&""!=n&&(t[i]=n),o=o[0],i=o.substring(6,o.length-6),n=""):""!=n?n+="\n"+a:n=a}return""!=i&&""!=n&&(t[i]=n),t}},mn=cn,un={name:"exportform",props:["model","view","templates"],methods:{copyToClipboard:function(){document.getElementById("export").focus(),document.getElementById("export").select(),document.execCommand("Copy")},download:function(){var e=document.getElementById("export").value,t=document.createElement("a"),n="Canonical"==this.view.export?this.model.current.vnf+"-V"+this.model.current.version+".yml":"descriptor.txt";t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download",n),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},downloadArchive:function(){var e=n("7c39"),t=new e,r=t.folder("input"),i=t.folder("output"),o=t.folder("elements"),a=t.folder("docs"),s=t.folder("bin"),l=o.folder("networks"),c=o.folder("servers"),m=o.folder("router"),u=o.folder("templates"),d=mn.render(this.model,"readme");a.file("README.md",d);var p=n("651e");d=p.safeDump(this.model),a.file("model.yml",d),d=mn.render(this.model,"Communication Matrix"),a.file("communication_matrix.txt",d),d=mn.render(this.model,"Environment"),r.file("environment.yml",d),d=mn.render(this.model,"openrc"),r.file("openrc",d),d=mn.render(this.model,"Prequisites"),a.file("prequisites.txt",d),t.file("setup.sh",rn["setup"]),s.file("infrastructure_create.sh",rn["infrastructure_create.sh"]),s.file("infrastructure_delete.sh",rn["infrastructure_delete.sh"]),s.file("infrastructure_status.sh",rn["infrastructure_status.sh"]),s.file("infrastructure_authorize.sh",rn["infrastructure_authorize.sh"]),s.file("infrastructure_connect.sh",rn["infrastructure_connect.sh"]);var v={},f={};for(var h of this.model.current.components)"OTHER"!=h.placement&&"ROUTER"!=h.placement&&(v[this.model.current.tenant.prefix+h.name]=c.folder(this.model.current.tenant.prefix+h.name)),"ROUTER"==h.placement&&(f[this.model.current.tenant.prefix+h.name]=m.folder(this.model.current.tenant.prefix+h.name));d=mn.render(this.model,"Networks (create)"),l.file("create.yml",d,{unixPermissions:"755"}),d=mn.render(this.model,"Networks (delete)"),l.file("delete.yml",d,{unixPermissions:"755"}),d=mn.render(this.model,"Networks (status)"),l.file("status.yml",d,{unixPermissions:"755"}),d=mn.render(this.model,"Servers (status)"),c.file("status.yml",d,{unixPermissions:"755"}),d=mn.render(this.model,"Servers (define security)");var w=mn.splitter(d);for(var g in w){var _=v[g],k=w[g];_.file("define_security.yml",k,{unixPermissions:"755"})}for(g in d=mn.render(this.model,"Servers (undefine security)"),w=mn.splitter(d),w)_=v[g],k=w[g],_.file("undefine_security.yml",k,{unixPermissions:"755"});for(g in d=mn.render(this.model,"Servers (create)"),w=mn.splitter(d),w){var b=g.split("-")[0],y=g.split("-")[1]?"-"+g.split("-")[1]:"";_=v[b],k=w[g],_.file("create"+y+".yml",k,{unixPermissions:"755"})}for(g in d=mn.render(this.model,"Servers (delete)"),w=mn.splitter(d),w)b=g.split("-")[0],y=g.split("-")[1]?"-"+g.split("-")[1]:"",_=v[b],k=w[g],_.file("delete"+y+".yml",k,{unixPermissions:"755"});for(g in d=mn.render(this.model,"Servers (ssh)"),w=mn.splitter(d),w)b=g.split("-")[0],y=g.split("-")[1]?"-"+g.split("-")[1]:"",_=v[b],k=w[g],_.file("ssh"+y+".yml",k,{unixPermissions:"755"});for(var x in r.file("ansible.cfg",rn["ansible.cfg"]),u.file("networks.tmpl",rn["networks.tmpl"]),u.file("servers.tmpl",rn["servers.tmpl"]),u.file("config",rn["config"]),u.file("inventory",rn["inventory"]),i.file("inventory",rn["default_inventory"]),d=mn.render(this.model,"config"),u.file("config",d,{unixPermissions:"644"}),d=mn.render(this.model,"Router (create)"),w=mn.splitter(d),w)_=f[x],k=w[x],_.file("create.yml",k,{unixPermissions:"755"});for(x in d=mn.render(this.model,"Router (delete)"),w=mn.splitter(d),w)_=f[x],k=w[x],_.file("delete.yml",k,{unixPermissions:"755"});t.generateAsync({type:"blob"}).then((function(e){var t=document.createElement("a");t.setAttribute("href",URL.createObjectURL(e)),t.setAttribute("download",this.model.current.vnf+"-V"+this.model.current.version+".zip"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}))}},computed:{formats:function(){return Object.keys(this.templates)},result:function(){var e=n("afe2"),t=this.view.export,r=this.templates[t],i=e.configure({trimBlocks:!0});i.addFilter("fixed",mn.fixed_ips_filter),i.addFilter("allowed",mn.allowed_ips_filter),i.addFilter("portmin",mn.port_min_filter),i.addFilter("portmax",mn.port_max_filter);var o=e.renderString(r,this.model.current);return o}}},dn=un,pn=Object(a["a"])(dn,en,tn,!1,null,null,null),vn=pn.exports,fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"importform"}},[n("div",{staticClass:"header"},[e._v(" Import: "),n("div",{staticClass:"button",on:{click:e.import_model}},[n("i",{staticClass:"fas fa-redo-alt"}),e._v(" Impoort ")]),n("div",{staticClass:"button",on:{click:e.load_model}},[n("input",{attrs:{type:"file",id:"files",name:"files"},on:{change:e.load_model2}}),n("i",{staticClass:"fas fa-upload"}),e._v(" Load ")])]),e._m(0)])},hn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"line"},[n("textarea",{attrs:{id:"import",name:"import"}})])}],wn=n("651e"),gn=n.n(wn),_n={name:"importform",props:["model","view","templates"],methods:{load_model:function(){document.getElementById("files").click()},load_model2:function(e){for(var t,n=e.target.files,r=0;t=n[r];r++){var i=new FileReader;i.onload=function(e){return function(e){document.getElementById("import").value=e.target.result}}(),i.readAsText(t);break}},import_model:function(){var e=document.getElementById("import").value,t=null,n="";try{t=gn.a.safeLoad(e)}catch(r){return void(this.view.modal="Yaml Error:\n"+r.message)}return n=k.validate_schema(t),""!=n?(this.view.modal=n,void this.view.setContext("Import")):(n=k.validate_xref(t),""!=n?(this.view.modal=n,void this.view.setContext("Import")):("current"==this.view.mode?current=t:target=t,this.model.setModel(t),void this.view.setContext("Tenant")))}}},kn=_n,bn=Object(a["a"])(kn,fn,hn,!1,null,null,null),yn=bn.exports,xn={name:"appdetail",props:["model","current","target","view","templates"],components:{flavorform:Ht,imageform:jt,networkform:Xt,componentform:Zt,tenant:It,exportform:vn,importform:yn}},Cn=xn,Tn=Object(a["a"])(Cn,Re,Ee,!1,null,null,null),On=Tn.exports,Pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"modal"}},[n("div",{staticClass:"content"},[n("span",{staticClass:"close",on:{click:e.close}},[e._v("×")]),n("span",{domProps:{innerHTML:e._s(e.html)}})])])},$n=[],In={name:"modal",props:["view"],computed:{html:function(){for(var e=this.view.modal.split("\n"),t="<h2>"+e[0]+"</h2>",n="",r=1;r<e.length;r++){var i=e[r],o=i.indexOf(":");if(o<0)n=n+i+"<br/>";else{var a=i.substr(0,o),s=i.substr(o+1);n=n+"<b>"+a+":</b> "+s+"<br/>"}i.split(":",1)}return t+n}},methods:{close:function(){if(this.view.modal="",this.view.field){var e=document.getElementById(this.view.field);e&&e.focus()}}}},Nn=In,Rn=Object(a["a"])(Nn,Pn,$n,!1,null,null,null),En=Rn.exports,Sn='\n---\nschema:     1.0.1\nvnf:        demo\nversion:    1.0.0\ntenant:\n  name:          "demo"\n  auth:\n    username:    "admin"\n    password:    "adminpw"\n    url:         "https://10.10.10.10"\nflavors:\n  - uuid:    "08e88f71-8916-428e-ae2e-e37b50619405"\n    name:    "none"\n    vcpu:    0\n    ram:     0\n    disk:    0\n    public:  "false"\n    special: []\n  - uuid:    "b18f5596-e88b-4e0c-a2b3-da97fae62e85"\n    name:    "standard"\n    vcpu:    2\n    ram:     8\n    disk:    10\n    public:  "false"\n    special: []\nimages:\n- { uuid: "55b1f2fc-caab-4bea-8f4b-5b7c46d7abb6", name: "none", version: "", format: "qcow2", container: "bare", disk: "0", size: "0", checksum: "", url: "", special: "" }\n- { uuid: "3543f742-81b7-4dd3-86d9-ea52b134dbb1", name: "CentOS 7", version: "7.5", format: "qcow2", container: "bare", disk: "0", size: "0", checksum: "b376afdc0150601f15e53516327d9832216e01a300fecfc302066e36e2ac2b39", url: "https://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud-1905.qcow2", special: "" }\nnetworks:\n  - uuid:      "726dc281-2eb5-469e-857d-4af9336ff02a"\n    name:      "pub"\n    external:  "true"\n    ipv4:      "0.0.0.0/0"\n    ipv4gw:    ""\n    ipv4start: ""\n    ipv4end:   ""\n    ipv6:      ""\n    ipv6gw:    ""\n    ipv6start: ""\n    ipv6end:   ""\n    route:     ""\n    export:    ""\n    import:    ""\n    special:   ""\n  - uuid:      "221d325b-35a5-4eca-8a3f-ea5ade11f6fe"\n    name:      "ext"\n    external:  ""\n    ipv4:      "10.0.1.0/0"\n    ipv4gw:    "10.0.1.1"\n    ipv4start: "10.0.1.100"\n    ipv4end:   "10.0.1.199"\n    ipv6:      ""\n    ipv6gw:    ""\n    ipv6start: ""\n    ipv6end:   ""\n    route:     ""\n    export:    ""\n    import:    ""\n    special:   ""\n  - uuid:      "540146df-32f7-4aae-b65b-a4523c9c328d"\n    name:      "int"\n    external:  ""\n    ipv4:      "10.0.0.2/24"\n    ipv4gw:    "10.0.0.1"\n    ipv4start: "10.0.0.100"\n    ipv4end:   "10.0.0.199"\n    ipv6:      ""\n    ipv6gw:    ""\n    ipv6start: ""\n    ipv6end:   ""\n    route:     ""\n    export:    ""\n    import:    ""\n    special:   ""\n  - uuid:      "20cefffb-6ec5-4161-8562-612a4651e436"\n    name:      "oam"\n    external:  "false"\n    ipv4:      "10.0.0.0/24"\n    ipv4gw:    "10.0.0.1"\n    ipv4start: "10.0.0.100"\n    ipv4end:   "10.0.0.199"\n    ipv6:      ""\n    ipv6gw:    ""\n    ipv6start: ""\n    ipv6end:   ""\n    route:     ""\n    export:    ""\n    import:    ""\n    special:   ""\ncomponents:\n\n  - uuid:         "9572cd15-0c75-43f2-ad28-7031f172132f"\n    name:         "firewall"\n    user:         "root"\n    placement:    "EXT"\n    flavor:       "standard"\n    image:        "CentOS 7"\n    min:          1\n    size:         1\n    max:          1\n    volumes:      []\n    interfaces:\n      - { network: "pub", attributes: "" }\n      - { network: "oam", attributes: "" }\n      - { network: "ext", attributes: "" }\n    services:\n      - { name: "ssh", network: "pub", protocol: "tcp", range: "22" }\n      - { name: "https", network: "pub", protocol: "tcp", range: "443" }\n    dependencies:\n      - { component: "sd-wan", service: "https", network: "ext" }\n    userdata:     ""\n\n  - uuid:         "4972819c-7c64-4e26-a0a0-41d86d798773"\n    name:         "sd-wan"\n    user:         "root"\n    placement:    "EXT"\n    flavor:       "none"\n    image:        "none"\n    min:          1\n    size:         3\n    max:          3\n    volumes:      []\n    interfaces:\n      - { network: "oam", attributes: "" }\n      - { network: "ext", attributes: "" }\n      - { network: "int", attributes: "" }\n    services:\n      - { name: "ssh", network: "oam", protocol: "tcp", range: "22" }\n      - { name: "https", network: "ext", protocol: "tcp", range: "443" }\n    dependencies: []\n    userdata:     ""\n\n  - uuid:         "871076e7-40d9-4a24-b35f-f14adac5a67c"\n    name:         "database"\n    user:         "root"\n    placement:    "INT"\n    flavor:       "none"\n    image:        "none"\n    min:          1\n    size:         3\n    max:          3\n    volumes:\n      - { name: "data", size: 100, type: "INT", attributes: "" }\n    interfaces:\n      - { network: "oam", attributes: "" }\n      - { network: "int", attributes: "" }\n    services:\n      - { name: "ssh", network: "oam", protocol: "tcp", range: "22" }\n      - { name: "mysql", network: "int", protocol: "tcp", range: "3306" }\n      - { name: "replication", network: "int", protocol: "tcp", range: "33061" }\n    dependencies:\n      - { component: "database", service: "replication", network: "int" }\n    userdata:     ""\n',Fn=Sn,Hn={current:Object(wn["safeLoad"])(Fn),setModel(e){Hn.schema="1.0.1",Hn.vnf=e.vnf,Hn.version=e.version,Hn.tenant=e.tenant,Hn.flavors=e.flavors,Hn.images=e.images,Hn.networks=e.networks,Hn.components=e.components},uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}))},addFlavor(){var e=this.uuidv4(),t=Hn.flavors.length+1;Hn.flavors.push({uuid:e,name:"flavor-"+t,public:"false",special:[]})},deleteFlavor(e){var t=Hn.current.flavors.indexOf(e);t>-1&&Hn.current.flavors.splice(t,1)},addFlavorAttribute(e){var t=e.special.length+1;e.special.push({key:"attr"+t,value:""})},delFlavorAttribute(e,t){var n=e.special.indexOf(t);n>-1&&e.special.splice(n,1)},addImage(){var e=this.uuidv4(),t=Hn.images.length+1;Hn.images.push({uuid:e,name:"image-"+t,version:"",format:"qcow2",container:"bare",disk:"0",size:"0",special:"",url:""})},deleteImage(e){var t=Hn.current.images.indexOf(e);t>-1&&Hn.current.images.splice(t,1)},addNetwork(){var e=this.uuidv4(),t=Hn.current.networks.length+1;Hn.current.networks.push({uuid:e,name:"net-"+t,ipv4:"",ipv4gw:"",ipv4start:"",ipv4end:"",ipv6:"",ipv6gw:"",ipv6start:"",ipv6end:"",route:"",import:"",export:"",special:""})},deleteNetwork(e){var t=Hn.current.networks.indexOf(e);t>-1&&Hn.current.networks.splice(t,1)},hasComponent(e){for(var t of Hn.components)if(t.name===e)return t;return null},addComponent(){var e=this.uuidv4(),t=Hn.current.components.length+1;Hn.current.components.push({uuid:e,name:"comp-"+t,placement:"MGMT",flavor:"none",image:"none",min:1,max:1,size:1,volumes:[],interfaces:[],services:[],dependencies:[],userdata:[]})},deleteComponent(e){var t=Hn.current.components.indexOf(e);t>-1&&Hn.current.components.splice(t,1)},addComponentVolume(e){var t=e.volumes.length+1;e.volumes.push({name:"volume-"+t,size:100,type:e.placement.toUpperCase(),attributes:""})},delComponentVolume(e,t){var n=e.volumes.indexOf(t);n>-1&&e.volumes.splice(n,1)},addComponentInterface(e,t=""){""!==t||e.interfaces.length,e.interfaces.push({network:t,ipv4:"",ipv6:"",attributes:""})},delComponentInterface(e,t){var n=e.interfaces.indexOf(t);n>-1&&e.interfaces.splice(n,1)},hasComponentInterface(e,t){for(var n of e.interfaces)if(n.network===t)return n;return null},addComponentService(e){var t=e.services.length+1;e.services.push({name:"svc-"+t,network:"",protocol:"tcp",range:"0-65535"})},delComponentService(e,t){var n=e.services.indexOf(t);n>-1&&e.services.splice(n,1)},addComponentDependency(e){var t=e.dependencies.length+1;e.dependencies.push({component:"dep-"+t,service:"",network:""})},delComponentDependency(e,t){var n=e.dependencies.indexOf(t);n>-1&&e.dependencies.splice(n,1)},addUserdata(e){e.userdata.push("")},delUserdata(e,t){var n=e.userdata.indexOf(t);n>-1&&e.userdata.splice(n,1)}},Dn=Hn,An={name:"app",data(){return{model:Dn,view:g,misc:mn,templates:ln,current:Dn}},components:{appdetail:On,appheader:C,appnavigation:Ne,modal:En},created(){setInterval((function(){var e=new Date;g.now=e.getFullYear()+"-"+("0"+e.getMonth()).substr(-2)+"-"+("0"+e.getDate()).substr(-2)+" "+("0"+e.getHours()).substr(-2)+":"+("0"+e.getMinutes()).substr(-2)+":"+("0"+e.getSeconds()).substr(-2)}),1e3)}},zn=An,qn=Object(a["a"])(zn,u,d,!1,null,null,null),Un=qn.exports;r["a"].use(m["a"]);const jn=[{path:"/",name:"Home",component:Un},{path:"/docs",name:"Docs",component:function(){return n.e("docs").then(n.bind(null,"7c40"))}}],Mn=new m["a"]({base:"/vnf-designer/",routes:jn});var Vn=Mn,Gn=n("2f62");r["a"].use(Gn["a"]);var Ln=new Gn["a"].Store({state:{},mutations:{},actions:{},modules:{}});n("aede"),n("557b"),n("74a2"),n("f262"),n("3e44"),n("0bc2"),n("bcaa"),n("bf37"),n("7ef3"),n("2f8a");n("a41b"),r["a"].config.productionTip=!1,new r["a"]({router:Vn,store:Ln,render:function(e){return e(c)}}).$mount("#app")},"74a2":function(e,t,n){},"7ef3":function(e,t,n){},a41b:function(e,t,n){},aede:function(e,t,n){},bcaa:function(e,t,n){},bf37:function(e,t,n){},f262:function(e,t,n){}});
//# sourceMappingURL=app.49e6fce4.js.map